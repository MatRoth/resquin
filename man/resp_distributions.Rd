% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/resp_distributions.R
\name{resp_distributions}
\alias{resp_distributions}
\title{Compute response distribution indices}
\usage{
resp_distributions(x, min_valid_responses = 1)
}
\arguments{
\item{x}{A dataframe containing survey responses in wide format.}

\item{min_valid_responses}{numeric between 0 and 1. Defines the share of valid responses
a respondent must have to calculate response quality indicators. Default is 1.}
}
\description{
Calculates response distribution indicators for multi-item scales or matrix
questions which have the same number of response options for many questions.
}
\details{
The functions assumes that the input data frame is structured in the following way:
\itemize{
\item The data frame is in wide format, meaning each row represents one respondent, each
column represents one variable.
\item The variables are in same the order as the questions respondents saw while taking the survey.
\item Reverse keyed variables are in their original form. No items were recoded.
\item All responses have integer values.
\item Missing values are set to \code{NA}.
}

The following response distribution indicators are calculated per respondent:
\itemize{
\item n_valid: number of within person valid answers
\item n_na: number of within person missing answers
\item prop_na: proportion of missing responses within respondents
\item ii_mean: intra-individual mean over all items
\item ii_median: intra-individual median
\item ii_median_abs_dev: intra-individual median absolute deviation
\item ii_sd:  intra-individual standard deviation
\item ii_var: intra-individual variance
\item mahal: Mahalanobis distance per respondent. Represents the distance
of observations from the center of a multivariate normal distribution.
}

Reponse distribution measures
@returns Returns a data frame with response quality indicators per respondent.
Dimensions:
\itemize{
\item Rows: Equal to number of rows in x.
\item Columns: 9, one for each response distribution indictator
}
}
\examples{
# A small test data set with ten respondents
# and responses to three survey questions
# with response scales from 1 to 5.
testdata <- data.frame(
  var_a = c(1,4,3,5,3,2,3,1,3,NA),
  var_b = c(2,5,2,3,4,1,NA,2,NA,NA),
  var_c = c(1,2,3,NA,3,4,4,5,NA,NA))

# Calculate response distribution indicators
resp_distributions(testdata) |>
    round(2)

# Include respondents with NA values by decreasing the
# necessary number of valid responses per respondent.

resp_distributions(testdata,
                   min_valid_responses = 0.2) |>
    round(2)

}
\seealso{
\code{\link[=resp_styles]{resp_styles()}} for calculating response style indicators.
}
\author{
Matthias Roth, Matthias Bluemke & Clemens Lechner
}
